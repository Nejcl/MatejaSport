<button mat-button class="float-right" [ngClass]="{'active' : terminiActive, '': !terminiActive}">Razpisani termini</button>
<button mat-button class="float-right" [ngClass]="{'active' : novTerminActive, '': !novTerminActive}">Ustvari nov termin</button>
<div *ngIf="terminiActive">   
  <table mat-table #outerSort="matSort" [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8" matSort>  
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef > ID </th>
        <td mat-cell *matCellDef="let row"> {{row.id}} </td>
      </ng-container>

            <!-- ID Column -->
            <ng-container matColumnDef="barva">
              <th mat-header-cell *matHeaderCellDef style="width: 1% !important;" ></th>
              <td mat-cell *matCellDef="let row" style="width: 1% !important;"[style.background]="row.barva"> </td>
            </ng-container>
  
      <!-- Naziv Column -->
      <ng-container matColumnDef="naziv">
        <th mat-header-cell *matHeaderCellDef > Naziv </th>
        <td mat-cell  *matCellDef="let row" [style.background]="row.barva"> {{row.naziv}} </td>
      </ng-container>
  
      <!-- Inštruktor Column -->
      <ng-container matColumnDef="instruktor">
        <th mat-header-cell *matHeaderCellDef > Inštruktor </th>
        <td mat-cell *matCellDef="let row"> {{row.instruktor}} </td>
      </ng-container>
  
      <!-- Datum Column -->
      <ng-container matColumnDef="datum">
        <th mat-header-cell *matHeaderCellDef> Datum </th>
        <td mat-cell *matCellDef="let row"> {{row.datum}} </td>
      </ng-container>

        <!-- Od Column -->
        <ng-container matColumnDef="od">
            <th mat-header-cell *matHeaderCellDef > Od -Do </th>
            <td mat-cell *matCellDef="let row"> {{row.od}} - {{row.do}} </td>
        </ng-container>

        <!-- Do Column -->
        <ng-container matColumnDef="do">
            <th mat-header-cell *matHeaderCellDef > Do </th>
            <td mat-cell *matCellDef="let row"> {{row.do}} </td>
        </ng-container>

        <!-- Zasedenost Column -->
        <ng-container matColumnDef="zasedenost">
            <th mat-header-cell *matHeaderCellDef > Zasedenost </th>
            <td mat-cell *matCellDef="let row"> {{row.zasedenost}} </td>
        </ng-container>

        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef class="akcije">Termin</th>
                <td mat-cell *matCellDef="let row" >
                    <button mat-button style="margin-right:2rem;"  ><mat-icon style="color: #e7e410; cursor: pointer; font-size: 1.35rem;">create</mat-icon>Uredi</button>
                    <button mat-button style="margin-right:2rem;"  ><mat-icon style="color: red; cursor: pointer; font-size: 1.35rem;">cancel</mat-icon>Odpovej</button>
                </td>
        </ng-container>
        <ng-container matColumnDef="barva1">
          <th mat-header-cell *matHeaderCellDef style="width: 1% !important;" ></th>
          <td mat-cell *matCellDef="let row" style="width: 1% !important;"[style.background]="row.barva"> </td>
        </ng-container>
    <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
    <ng-container matColumnDef="expandedDetail">
      <td mat-cell *matCellDef="let element" [style.background]="element.barva" [attr.colspan]="columnsToDisplay.length">
        <div class="example-element-detail" *ngIf="element.prijave?.data.length" [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
          <div class="inner-table mat-elevation-z8" *ngIf="expandedElement">
            <table #innerTables mat-table #innerSort="matSort" [dataSource]="element.prijave" matSort>
                    <!-- Ime Column -->
              <ng-container matColumnDef="ime">
                <th mat-header-cell *matHeaderCellDef > Ime in Priimek </th>
                <td mat-cell *matCellDef="let row"> {{row.ime}} {{row.priimek}}  </td>
              </ng-container>
          
              <!-- Email Column -->
              <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> Email </th>
                <td mat-cell *matCellDef="let row"> {{row.email}} </td>
              </ng-container>

              <!-- Telefon Column -->
              <ng-container matColumnDef="telefon">
                <th mat-header-cell *matHeaderCellDef> Telefon </th>
                <td mat-cell *matCellDef="let row"> {{row.telefon}} </td>
              </ng-container>
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef class="akcije"><button mat-button style="margin-right:2rem;" (click)="izbrisiUporabnika(row.id)" ><mat-icon style="color: #e83e8c; cursor: pointer; font-size: 1.35rem;">person_add</mat-icon>Prijavi uporabnika</button>
                    </th>
                        <td mat-cell *matCellDef="let row">
                            <button mat-button style="margin-right:2rem;" (click)="izbrisiUporabnika(row.id)" ><mat-icon style="color: red; cursor: pointer; font-size: 1.35rem;">not_interested</mat-icon>Odjavi</button>
                        </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="innerDisplayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: innerDisplayedColumns;"></tr>
            </table>
          </div>
        </div>
      </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" [class.example-element-row]="element.prijave?.data.length"
     [class.example-expanded-row]="expandedElement === element" (click)="toggleRow(element)">
    </tr>
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
  </table>
</div>
<div *ngIf="novTerminActive">
  <app-razps-termina></app-razps-termina>
</div>